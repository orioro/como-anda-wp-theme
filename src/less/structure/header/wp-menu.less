/**
 * Isolate styles for wordpress menu
 */

ul.menu {
	width: 100%;
	display: flex;
	list-style: none;
	margin-top: 0;
	margin-bottom: 0;
	padding-left: 0;

	justify-content: space-between;

	a {
		text-decoration: none;
		text-transform: uppercase;
		display: block;
		padding-left: 10px;
		padding-right: 10px;
	}

	> li {
		position: relative;
		white-space: nowrap;
		padding-left: 10px;
		padding-right: 10px;

		> a:hover {
			text-decoration: underline;
		}

		/**
		 * 2nd level
		 */
		> ul.sub-menu {
			list-style: none;
			margin-top: 0;
			margin-bottom: 0;
			padding-left: 0;
			display: none;

			position: absolute;
			top: 100%;

			flex-direction: column;

			li {
				white-space: nowrap;
				background-color: white;

				position: relative;

				/**
				 * 3rd level forwards
				 */
				ul.sub-menu {
					list-style: none;
					margin-top: 0;
					margin-bottom: 0;
					padding-left: 0;

					display: none;
					// display: flex;
					flex-direction: column;

					position: absolute;
					left: 100%;
					top: 0;
				}

				&:hover {
					background-color: @color-gray-light;
					color: @color-text-dark;

					ul.sub-menu {
						display: flex;
					}
				}

				&.menu-item-has-children {
					&::before {
						content: '';
						width: 0;
			      height: 0;
			      border-top: 6px solid transparent;
			      border-left: 6px solid @color-text-dark;
			      border-bottom: 6px solid transparent;

			      position: absolute;
			      right: 10px;
			      top: 50%;
			      transform: translateY(-50%);
					}
				}
			}
		}

		&:hover {
			> ul.sub-menu {
				display: flex;
			}
		}
	}

	@media (max-width: @mobile-max-width) {
		flex-direction: column;

		> li {
			padding-left: 0;
			padding-right: 0;

			a {
				padding-left: 0;
				padding-right: 0;
			}

			> ul.sub-menu {
				display: flex;
				flex-direction: column;
				position: static;

				padding-left: 10px;

				> li {
					background-color: inherit;

					/**
					 * 3rd level forwards: on mobile hide those menus
					 */
					ul.sub-menu {
						display: none;
					}

					&:hover {
						ul.sub-menu {
							display: none;
						}
					}

					&.menu-item-has-children {
						&::before {
							display: none;
						}
					}
				}
			}
		}
	}
}
